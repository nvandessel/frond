{"id":"behavior-ec0072dde4b5","kind":"behavior","content":{"content":{"canonical":"Use deep stacking ('--on' chains) only for genuinely sequential work where each PR builds on code from the previous one. Example: 'frond new pay/stripe-tests --on pay/stripe-client' because the tests import functions defined in the client PR. If branches can be developed independently, use '--after' for ordering instead.","expanded":"When working on this type of task, avoid: Creating a long chain of '--on' relationships for work that could be parallelized. Deep stacking everything into a serial chain when branches don't actually depend on each other's code changes.\n\nInstead: Use deep stacking ('--on' chains) only for genuinely sequential work where each PR builds on code from the previous one. Example: 'frond new pay/stripe-tests --on pay/stripe-client' because the tests import functions defined in the client PR. If branches can be developed independently, use '--after' for ordering instead.","structured":{"avoid":"Creating a long chain of '--on' relationships for work that could be parallelized. Deep stacking everything into a serial chain when branches don't actually depend on each other's code changes.","prefer":"Use deep stacking ('--on' chains) only for genuinely sequential work where each PR builds on code from the previous one. Example: 'frond new pay/stripe-tests --on pay/stripe-client' because the tests import functions defined in the client PR. If branches can be developed independently, use '--after' for ordering instead."},"tags":["frond","git","pr","stacking","testing"]},"kind":"preference","name":"learned/use-deep-stacking-on-chains-only-for-genuine","provenance":{"correction_id":"c-1772214637881361917","created_at":"2026-02-27T09:50:37.889711811-08:00","source_type":"learned"}},"metadata":{"confidence":0.6,"priority":0,"provenance":{"package":"nvandessel/frond","package_version":"0.1.0"},"scope":"local","stats":{"created_at":"2026-02-27T09:57:59-08:00","times_activated":0,"times_confirmed":0,"times_followed":0,"times_overridden":0,"updated_at":"2026-02-27T09:57:59-08:00"}}}
{"id":"behavior-bef4146f884a","kind":"behavior","content":{"content":{"canonical":"Use 'frond track  --on ' to bring an existing branch under frond management without recreating it. Add '--after ' for dependency ordering. Use 'frond untrack []' to remove a branch from tracking without deleting the git branch. 'frond track' is useful for adopting branches created by other tools or team members.","expanded":"When working on this type of task, avoid: Deleting and recreating existing branches just to get them into frond's tracking. Or manually editing frond.json to add branches.\n\nInstead: Use 'frond track  --on ' to bring an existing branch under frond management without recreating it. Add '--after ' for dependency ordering. Use 'frond untrack []' to remove a branch from tracking without deleting the git branch. 'frond track' is useful for adopting branches created by other tools or team members.","structured":{"avoid":"Deleting and recreating existing branches just to get them into frond's tracking. Or manually editing frond.json to add branches.","prefer":"Use 'frond track  --on ' to bring an existing branch under frond management without recreating it. Add '--after ' for dependency ordering. Use 'frond untrack []' to remove a branch from tracking without deleting the git branch. 'frond track' is useful for adopting branches created by other tools or team members."},"tags":["branch","frond","git"]},"kind":"preference","name":"learned/use-frond-track-on-to-bring-an-existing-bran","provenance":{"correction_id":"c-1772214982785519451","created_at":"2026-02-27T09:56:22.796346062-08:00","source_type":"learned"}},"metadata":{"confidence":0.6,"priority":0,"provenance":{"package":"nvandessel/frond","package_version":"0.1.0"},"scope":"local","stats":{"created_at":"2026-02-27T09:57:59-08:00","times_activated":0,"times_confirmed":0,"times_followed":0,"times_overridden":0,"updated_at":"2026-02-27T09:57:59-08:00"}}}
{"id":"behavior-a080e9984693","kind":"behavior","content":{"content":{"canonical":"Use 'frond new  --on ' to create tracked branches. This registers the branch in frond's DAG, sets the PR base, and enables dependency tracking. Always check 'frond status' first to understand the current graph before creating new branches.","expanded":"When working on this type of task, avoid: Creating branches with 'git checkout -b' or 'git switch -c' in a repo that uses frond. This bypasses frond's DAG tracking and creates unmanaged branches that won't appear in frond status.\n\nInstead: Use 'frond new  --on ' to create tracked branches. This registers the branch in frond's DAG, sets the PR base, and enables dependency tracking. Always check 'frond status' first to understand the current graph before creating new branches.","structured":{"avoid":"Creating branches with 'git checkout -b' or 'git switch -c' in a repo that uses frond. This bypasses frond's DAG tracking and creates unmanaged branches that won't appear in frond status.","prefer":"Use 'frond new  --on ' to create tracked branches. This registers the branch in frond's DAG, sets the PR base, and enables dependency tracking. Always check 'frond status' first to understand the current graph before creating new branches."},"tags":["branch","frond","git","pr"]},"kind":"procedure","name":"learned/use-frond-new-on-to-create-tracked-branches","provenance":{"correction_id":"c-1772214607085314876","created_at":"2026-02-27T09:50:07.096350904-08:00","source_type":"learned"}},"metadata":{"confidence":0.6,"priority":0,"provenance":{"package":"nvandessel/frond","package_version":"0.1.0"},"scope":"local","stats":{"created_at":"2026-02-27T09:57:59-08:00","times_activated":0,"times_confirmed":0,"times_followed":0,"times_overridden":0,"updated_at":"2026-02-27T09:57:59-08:00"}}}
{"id":"behavior-c2eb07e5a05e","kind":"behavior","content":{"content":{"canonical":"frond uses structured exit codes: 0 = success, 1 = error, 2 = conflict (e.g., rebase conflict during sync). When scripting or automating frond commands, check for exit code 2 specifically — it means a rebase conflict that needs manual resolution. Exit code 1 means something went wrong (bad args, git error, network issue).","expanded":"When working on this type of task, avoid: Ignoring frond exit codes or assuming any non-zero exit means a generic error. Not handling rebase conflicts from 'frond sync' differently from other errors.\n\nInstead: frond uses structured exit codes: 0 = success, 1 = error, 2 = conflict (e.g., rebase conflict during sync). When scripting or automating frond commands, check for exit code 2 specifically — it means a rebase conflict that needs manual resolution. Exit code 1 means something went wrong (bad args, git error, network issue).","structured":{"avoid":"Ignoring frond exit codes or assuming any non-zero exit means a generic error. Not handling rebase conflicts from 'frond sync' differently from other errors.","prefer":"frond uses structured exit codes: 0 = success, 1 = error, 2 = conflict (e.g., rebase conflict during sync). When scripting or automating frond commands, check for exit code 2 specifically — it means a rebase conflict that needs manual resolution. Exit code 1 means something went wrong (bad args, git error, network issue)."},"tags":["cli","frond","git"]},"kind":"preference","name":"learned/frond-uses-structured-exit-codes-0-success-1-","provenance":{"correction_id":"c-1772214980920995435","created_at":"2026-02-27T09:56:20.929733958-08:00","source_type":"learned"}},"metadata":{"confidence":0.6,"priority":0,"provenance":{"package":"nvandessel/frond","package_version":"0.1.0"},"scope":"local","stats":{"created_at":"2026-02-27T09:57:59-08:00","times_activated":0,"times_confirmed":0,"times_followed":0,"times_overridden":0,"updated_at":"2026-02-27T09:57:59-08:00"}}}
{"id":"behavior-432c9a1ed442","kind":"behavior","content":{"content":{"canonical":"Run 'frond sync' at the start of every session before doing any other frond operations. It fetches from remote, detects merged PRs, reparents orphaned children whose parents merged, cleans up merged branches from tracking, and rebases branches that are ready. This keeps the DAG healthy and prevents conflicts.","expanded":"When working on this type of task, avoid: Starting work on a frond-managed repo without running 'frond sync' first. This leads to stale bases, missed merge events, rebase conflicts, and orphaned branches in the DAG.\n\nInstead: Run 'frond sync' at the start of every session before doing any other frond operations. It fetches from remote, detects merged PRs, reparents orphaned children whose parents merged, cleans up merged branches from tracking, and rebases branches that are ready. This keeps the DAG healthy and prevents conflicts.","structured":{"avoid":"Starting work on a frond-managed repo without running 'frond sync' first. This leads to stale bases, missed merge events, rebase conflicts, and orphaned branches in the DAG.","prefer":"Run 'frond sync' at the start of every session before doing any other frond operations. It fetches from remote, detects merged PRs, reparents orphaned children whose parents merged, cleans up merged branches from tracking, and rebases branches that are ready. This keeps the DAG healthy and prevents conflicts."},"tags":["frond","git"]},"kind":"directive","name":"learned/run-frond-sync-at-the-start-of-every-session-bef","provenance":{"correction_id":"c-1772214627478615111","created_at":"2026-02-27T09:50:27.487142095-08:00","source_type":"learned"}},"metadata":{"confidence":0.6,"priority":0,"provenance":{"package":"nvandessel/frond","package_version":"0.1.0"},"scope":"local","stats":{"created_at":"2026-02-27T09:57:59-08:00","times_activated":0,"times_confirmed":0,"times_followed":0,"times_overridden":0,"updated_at":"2026-02-27T09:57:59-08:00"}}}
{"id":"behavior-f8bc8dc5e401","kind":"behavior","content":{"content":{"canonical":"Run 'frond status' to see the full dependency graph before creating branches or pushing. The output shows branch tree structure, PR numbers, blocked/ready status, and merge state. Use 'frond status --json' for machine-readable output. Use 'frond status --fetch' to include remote state.","expanded":"When working on this type of task, avoid: Making branch creation or dependency decisions without checking the current state of the frond DAG. Creating branches without knowing what's already tracked, merged, or blocked.\n\nInstead: Run 'frond status' to see the full dependency graph before creating branches or pushing. The output shows branch tree structure, PR numbers, blocked/ready status, and merge state. Use 'frond status --json' for machine-readable output. Use 'frond status --fetch' to include remote state.","structured":{"avoid":"Making branch creation or dependency decisions without checking the current state of the frond DAG. Creating branches without knowing what's already tracked, merged, or blocked.","prefer":"Run 'frond status' to see the full dependency graph before creating branches or pushing. The output shows branch tree structure, PR numbers, blocked/ready status, and merge state. Use 'frond status --json' for machine-readable output. Use 'frond status --fetch' to include remote state."},"tags":["frond","git","json","pr"]},"kind":"preference","name":"learned/run-frond-status-to-see-the-full-dependency-grap","provenance":{"correction_id":"c-1772214627919594745","created_at":"2026-02-27T09:50:27.931306556-08:00","source_type":"learned"}},"metadata":{"confidence":0.6,"priority":0,"provenance":{"package":"nvandessel/frond","package_version":"0.1.0"},"scope":"local","stats":{"created_at":"2026-02-27T09:57:59-08:00","times_activated":0,"times_confirmed":0,"times_followed":0,"times_overridden":0,"updated_at":"2026-02-27T09:57:59-08:00"}}}
{"id":"behavior-40fd9c49fa1d","kind":"behavior","content":{"content":{"canonical":"Use '--after' for fan-out dependencies where branches share a parent but have a merge ordering requirement. Example: 'frond new pay/api-handlers --on feature/payments --after pay/stripe-client,pay/db-schema' — the handlers PR targets the feature branch (--on) but shouldn't merge until both client and schema land (--after). When stripe-client merges, 'frond sync' automatically reparents stripe-tests and unblocks api-handlers.","expanded":"When working on this type of task, avoid: Using '--on' to express 'these things should merge in order' when the code doesn't actually depend on the parent's changes. This creates unnecessary rebase chains and blocks parallel development.\n\nInstead: Use '--after' for fan-out dependencies where branches share a parent but have a merge ordering requirement. Example: 'frond new pay/api-handlers --on feature/payments --after pay/stripe-client,pay/db-schema' — the handlers PR targets the feature branch (--on) but shouldn't merge until both client and schema land (--after). When stripe-client merges, 'frond sync' automatically reparents stripe-tests and unblocks api-handlers.","structured":{"avoid":"Using '--on' to express 'these things should merge in order' when the code doesn't actually depend on the parent's changes. This creates unnecessary rebase chains and blocks parallel development.","prefer":"Use '--after' for fan-out dependencies where branches share a parent but have a merge ordering requirement. Example: 'frond new pay/api-handlers --on feature/payments --after pay/stripe-client,pay/db-schema' — the handlers PR targets the feature branch (--on) but shouldn't merge until both client and schema land (--after). When stripe-client merges, 'frond sync' automatically reparents stripe-tests and unblocks api-handlers."},"tags":["database","frond","git","pr","stacking"]},"kind":"preference","name":"learned/use-after-for-fan-out-dependencies-where-branc","provenance":{"correction_id":"c-1772214980618919588","created_at":"2026-02-27T09:56:20.628825408-08:00","source_type":"learned"}},"metadata":{"confidence":0.6,"priority":0,"provenance":{"package":"nvandessel/frond","package_version":"0.1.0"},"scope":"local","stats":{"created_at":"2026-02-27T09:57:59-08:00","times_activated":0,"times_confirmed":0,"times_followed":0,"times_overridden":0,"updated_at":"2026-02-27T09:57:59-08:00"}}}
{"id":"behavior-1cd6540bc463","kind":"behavior","content":{"content":{"canonical":"'--on' sets the git parent (PR base branch) — exactly one per branch. '--after' sets logical dependencies (merge ordering) — zero or more per branch. Use '--on' for 'this PR targets that branch' and '--after' for 'don't merge this until those are merged.' Example: 'frond new pay/api --on feature/payments --after pay/stripe,pay/db' means the PR targets feature/payments but shouldn't merge until stripe and db land.","expanded":"When working on this type of task, avoid: Confusing '--on' and '--after' flags in frond. Using '--after' to set where a PR targets, or using '--on' to express merge ordering. These flags are orthogonal and not interchangeable.\n\nInstead: '--on' sets the git parent (PR base branch) — exactly one per branch. '--after' sets logical dependencies (merge ordering) — zero or more per branch. Use '--on' for 'this PR targets that branch' and '--after' for 'don't merge this until those are merged.' Example: 'frond new pay/api --on feature/payments --after pay/stripe,pay/db' means the PR targets feature/payments but shouldn't merge until stripe and db land.","structured":{"avoid":"Confusing '--on' and '--after' flags in frond. Using '--after' to set where a PR targets, or using '--on' to express merge ordering. These flags are orthogonal and not interchangeable.","prefer":"'--on' sets the git parent (PR base branch) — exactly one per branch. '--after' sets logical dependencies (merge ordering) — zero or more per branch. Use '--on' for 'this PR targets that branch' and '--after' for 'don't merge this until those are merged.' Example: 'frond new pay/api --on feature/payments --after pay/stripe,pay/db' means the PR targets feature/payments but shouldn't merge until stripe and db land."},"tags":["api","database","frond","git","pr"]},"kind":"constraint","name":"learned/on-sets-the-git-parent-pr-base-branch-ex","provenance":{"correction_id":"c-1772214619219102795","created_at":"2026-02-27T09:50:19.22651318-08:00","source_type":"learned"}},"metadata":{"confidence":0.6,"priority":0,"provenance":{"package":"nvandessel/frond","package_version":"0.1.0"},"scope":"local","stats":{"created_at":"2026-02-27T09:57:59-08:00","times_activated":0,"times_confirmed":0,"times_followed":0,"times_overridden":0,"updated_at":"2026-02-27T09:57:59-08:00"}}}
{"id":"behavior-0572a37274a3","kind":"behavior","content":{"content":{"canonical":"Every frond command supports '--json' for machine-readable output. Always use '--json' when consuming frond output programmatically or in scripts. Example: 'frond status --json' returns the full DAG as structured JSON with branch names, PR numbers, dependencies, and blocked/ready status.","expanded":"When working on this type of task, avoid: Parsing frond's human-readable tree output with string manipulation or regex. The tree format is for humans and may change between versions.\n\nInstead: Every frond command supports '--json' for machine-readable output. Always use '--json' when consuming frond output programmatically or in scripts. Example: 'frond status --json' returns the full DAG as structured JSON with branch names, PR numbers, dependencies, and blocked/ready status.","structured":{"avoid":"Parsing frond's human-readable tree output with string manipulation or regex. The tree format is for humans and may change between versions.","prefer":"Every frond command supports '--json' for machine-readable output. Always use '--json' when consuming frond output programmatically or in scripts. Example: 'frond status --json' returns the full DAG as structured JSON with branch names, PR numbers, dependencies, and blocked/ready status."},"tags":["cli","frond","json","pr"]},"kind":"preference","name":"learned/every-frond-command-supports-json-for-machine","provenance":{"correction_id":"c-1772214981908520846","created_at":"2026-02-27T09:56:21.915601244-08:00","source_type":"learned"}},"metadata":{"confidence":0.6,"priority":0,"provenance":{"package":"nvandessel/frond","package_version":"0.1.0"},"scope":"local","stats":{"created_at":"2026-02-27T09:57:59-08:00","times_activated":0,"times_confirmed":0,"times_followed":0,"times_overridden":0,"updated_at":"2026-02-27T09:57:59-08:00"}}}
{"id":"behavior-d0afad63729f","kind":"behavior","content":{"content":{"canonical":"Use 'frond push -t \"PR title\"' to push and create/update the PR in one step. frond handles setting the correct PR base from the '--on' relationship. Use '--draft' for work-in-progress PRs. Use '-b \"body\"' for PR description. If a PR already exists, 'frond push' updates it.","expanded":"When working on this type of task, avoid: Using 'git push' followed by 'gh pr create' separately in a frond-managed repo. This loses frond's PR base tracking and creates PRs with wrong base branches.\n\nInstead: Use 'frond push -t \"PR title\"' to push and create/update the PR in one step. frond handles setting the correct PR base from the '--on' relationship. Use '--draft' for work-in-progress PRs. Use '-b \"body\"' for PR description. If a PR already exists, 'frond push' updates it.","structured":{"avoid":"Using 'git push' followed by 'gh pr create' separately in a frond-managed repo. This loses frond's PR base tracking and creates PRs with wrong base branches.","prefer":"Use 'frond push -t \"PR title\"' to push and create/update the PR in one step. frond handles setting the correct PR base from the '--on' relationship. Use '--draft' for work-in-progress PRs. Use '-b \"body\"' for PR description. If a PR already exists, 'frond push' updates it."},"tags":["frond","gh","git","pr"]},"kind":"preference","name":"learned/use-frond-push-t-pr-title-to-push-and-create","provenance":{"correction_id":"c-1772214627170998053","created_at":"2026-02-27T09:50:27.182507941-08:00","source_type":"learned"}},"metadata":{"confidence":0.6,"priority":0,"provenance":{"package":"nvandessel/frond","package_version":"0.1.0"},"scope":"local","stats":{"created_at":"2026-02-27T09:57:59-08:00","times_activated":0,"times_confirmed":0,"times_followed":0,"times_overridden":0,"updated_at":"2026-02-27T09:57:59-08:00"}}}
